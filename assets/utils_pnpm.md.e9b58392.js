import{_ as s,c as a,o as p,a as n}from"./app.e3d1afbc.js";const D=JSON.parse('{"title":"pnpm","description":"","frontmatter":{},"headers":[{"level":2,"title":"创建monorepo项目","slug":"创建monorepo项目","link":"#创建monorepo项目","children":[]}],"relativePath":"utils/pnpm.md"}'),e={name:"utils/pnpm.md"},o=n(`<h1 id="pnpm" tabindex="-1">pnpm <a class="header-anchor" href="#pnpm" aria-hidden="true">#</a></h1><h2 id="创建monorepo项目" tabindex="-1">创建monorepo项目 <a class="header-anchor" href="#创建monorepo项目" aria-hidden="true">#</a></h2><p>在根目录新建pnpm-workspace.yaml文件，然后再添加各个workspace目录</p><p>pnpm-workspace.yaml格式如下</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F07178;">package</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">packages/*</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docs</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">play</span></span>
<span class="line"></span></code></pre></div><p>然后在packages、docs、play目录下创建package.json，设置name</p><p>默认调用pnpm add [&lt;pkg&gt;]会对所有workspace生效</p><p>可以使用 pnpm —filter 参数指定需要add 的workspace</p><p>例如：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-F</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@demo/utils</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lodash</span></span>
<span class="line"></span></code></pre></div><p>如果想workspace之间互相引用，可以这样写</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-F</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@demo/packages</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@demo/utils</span></span>
<span class="line"></span></code></pre></div>`,12),l=[o];function t(c,r,i,d,C,y){return p(),a("div",null,l)}const h=s(e,[["render",t]]);export{D as __pageData,h as default};
